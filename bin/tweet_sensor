#!/usr/bin/env perl
use utf8;
use 5.014;
use strict;
use Net::Twitter;


require $ENV{HOME}."/bin/tweet-base";

my $twitter = get_twitter();

post(
    sprintf("현재 치즈 노트북의 CPU 온도는 %.1f℃ 입니다.", parse_sensors())
);

sub parse_sensors {
    my $sensors = `sensors -u`;

    if ($sensors =~ m/coretemp-isa-0000.+?temp1_input: (\d+\.\d+)/s) {
        return $1;    
    } else {
        return;    
    }
}
